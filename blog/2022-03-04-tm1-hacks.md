---
title: A Buzzfeed style list of tiny TM1 hacks
date: 2022-03-04
summary: As part of my new role, I'm renewing my love/hate relationship with TM1. While sweeping out the canyons of my mind, I thought I'd scribble down a prime number's worth of little tricks I've collated over the years
tags:
  - tm1
  - hack
  - python
---

As part of my new role, I'm renewing my love/hate relationship with TM1. While sweeping out the canyons of my mind, I thought I'd scribble down a prime number's worth of little tricks I've collated over the years. For all the things I like about TM1, there are a lot of issues to workaround as a developer.

This little list might help you work around some of them but, be warned, you might need to put your grey hat on for some of them.

Where the server environment is a consideration, these hacks focus on on premise / Windows for the sole reason that 95% of my lived experience has been in that space.

## #1 - Getting into a model you don't have access to

You know you shouldn't but sometimes you need to get access to a model that someone has forgotten to give you access to,

## #2 - Stopping and Starting instances on Windows without access to the box

## #3 - Touch all cubes

Have you ever noticed that when removing a bunch of elements from a dimension, cubes that are comprised of said dimension don't automatically reduce in size, even after a restart? It threw me the first time, these guys talked about it too:

https://www.tm1forum.com/viewtopic.php?t=8224

This perhaps goes unnoticed in production environments, either because removing large proportions of the leaf elements of dimensions is rare or because cubes don't often remain untouched. Still, when trying to create an small scale PoC for development environments with limited resources it can make a difference. 

So how would I actually automate this? Iterate through every cube and somehow change a value? Note I tried to see how good the TM1 server was at noticing a change (setting a dirty bit) and found that it was clever enough to know that even me typing in the same value wasn't worthy of a re-save so something in the cube actually needs to be changed. I wondered if the least destructive way to do this might be to write a value to a string element (easier to find a leaf, less likely to cause some onforseen feeder catastrope) but if a string measure doesn't already exist, what to do? You could add one of course but how does the server behave re: feeders when updating an element? Might this still cause issues? 

Of course you could just make a tiny change to a value, perhaps changing a non zero value to zero and back again might work but I still can't get my head around whether this may have nasty edge cases with conditional feeders.... There's potentially some fun testing to be done. 



## #3 - The old 7zip backup trick

## #4 - Find that unfed cell

I don't know if this one is even really a trick, it's more like "the job".

## #5 - Find that overfeeding problem

A bit like number 4, this isn't really a hack but an essential weapon in your armoury.

## #6 - Take out the trash

Restart your servers once a week (or more). While you're at it, remove all the persistent feeder files

## #7 - Add an a all n elements subset to every dimension

Seriously, you'll thank me later. You can achieve this in a couple of ways but personally I find creating a dynamic subset for each dim is sufficient. I've had people report issues with MDX performance but it seems unlikely that something like the following will cause issues in most use cases.

Is MDX recognised in markdown?

```mdx
blah blah
```

So go ahead and use the MDX macro recorder thing to do this for every dim....

No, really, don't do that. Just run a script to do it.

TI:

Python:

Python (with TM1py):

Powershell:

While we're at it, I suggest always having a single identifiable consolidation that

## #8 - Use Bedrock

There is prett much no good reason you shouldn't do this in 2022.

## #9 - Create a copy of a model with no/less data

OK, this is a work in progress but here's the idea - say you have a model that consumes 150gb of RAM in prod but you want to run/test/develop it on a less powerful machine like your laptop. Usually you can do so effectively with but a small subset of the data, or even no data at all. Using the TM1py, you can create an empty copy like so:

## #10 - Delete all blb files

Especially the ones for rules (are there any others?). This isn't really a hack, just a safeguard.

## #11 -
